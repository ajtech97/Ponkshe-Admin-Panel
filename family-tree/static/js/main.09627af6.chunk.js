(this.webpackJsonpftree=this.webpackJsonpftree||[]).push([[0],{78:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(19),r=n.n(c),s=n(96),i=n(25),l=n(9),o=n(4),u=n.n(o),d=n(10),j=n(5),h=n(104),b=n(97),m=n(98),x=n(99),f=n(100),p=n(101),O=n(102),v=n(58),w=n.n(v),N="https://ponkshe.com/serv/",g=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(N,"?gharana=true&list=true"),e.next=3,fetch(t,{method:"get"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?family=true&gharanaId=").concat(t,"&list=true"),e.next=3,fetch(n,{method:"get"});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?children=true&all=true&familyId=").concat(t),e.next=3,fetch(n,{method:"get"});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?gharana=true"),(a=new FormData).append("name",t),e.next=5,fetch(n,{method:"post",body:a});case 5:return c=e.sent,e.next=8,c.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?gharana=true"),(a=new FormData).append("id",t),e.next=5,fetch(n,{method:"post",body:a});case 5:return c=e.sent,e.next=8,c.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(N,"?family=true"),(c=new FormData).append("name",n),c.append("gharanaId",t),e.next=6,fetch(a,{method:"post",body:c});case 6:return r=e.sent,e.next=9,r.text();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?family=true"),(a=new FormData).append("id",t),e.next=5,fetch(n,{method:"post",body:a});case 5:return c=e.sent,e.next=8,c.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(N,"?children=true"),(r=new FormData).append("parentId",n),r.append("familyId",t),r.append("name",a),e.next=7,fetch(c,{method:"post",body:r});case 7:return s=e.sent,e.next=10,s.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N,"?children=true"),(a=new FormData).append("id",t),e.next=5,fetch(n,{method:"post",body:a});case 5:return c=e.sent,e.next=8,c.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=n(94),G=n(1);function T(){return Object(G.jsx)("div",{className:"row container center valign-wrapper",children:Object(G.jsx)("center",{className:"col s12 input-field",children:Object(G.jsx)(L.a,{})})})}var P=n(17),B=n.n(P);function M(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),o=i[0],v=i[1],N=Object(a.useState)([]),C=Object(j.a)(N,2),S=C[0],I=C[1],E=Object(a.useState)(""),L=Object(j.a)(E,2),P=L[0],M=L[1],J=Object(a.useState)(""),R=Object(j.a)(J,2),V=R[0],A=R[1],H=Object(a.useState)(""),U=Object(j.a)(H,2),q=U[0],z=U[1],K=Object(l.f)().familyId,Q=Object(l.f)().gharanaId;return Object(a.useEffect)((function(){g().then((function(e){z(e.filter((function(e){return e.id===Q}))[0].name)})),y(Q).then((function(e){A(e.filter((function(e){return e.id===K}))[0].name)})),k(K).then((function(e){0!==e.length&&v(!1),I(e),c(!1)}))}),[]),n?Object(G.jsx)(T,{}):Object(G.jsxs)("div",{className:"row container",children:[Object(G.jsxs)("div",{className:"col s12 m12 l12",children:[Object(G.jsx)("div",{className:"col s4 m2 l2 input-field",children:Object(G.jsx)(h.a,{className:" blue white-text",onClick:function(){window.history.back()},children:Object(G.jsx)(B.a,{})})}),Object(G.jsx)("div",{className:"col s8 m10 l10 input-field",children:Object(G.jsxs)(s.a,{variant:"h4",align:"left",children:["Gharana - ",q,">","Family - ",V]})})]}),Object(G.jsx)("div",{className:"input-field col s12 m6 l6 "+(o?"hide":""),children:Object(G.jsxs)("select",{id:"parent",className:"col s12 m12 l12 active browser-default",onChange:function(e){M(e.target.value)},value:P,children:[Object(G.jsx)("option",{value:"",disabled:!0,children:"Select the Parent"}),S.map((function(e,t){return Object(G.jsx)("option",{value:e.id,children:e.name},t)}))]})}),Object(G.jsxs)("div",{className:"row container",children:[Object(G.jsx)("div",{id:"childList",children:Object(G.jsx)("div",{className:"input-field col s12 m6 l6",children:Object(G.jsx)("input",{type:"text",id:"name1",name:"name[]",placeholder:o?"Root Name":"Child 1 Name"})})}),Object(G.jsx)("div",{className:"col s12 m12 l12 center "+(o?"hide":""),children:Object(G.jsx)("div",{className:"btn-floating blue valign-wrapper",onClick:function(){var e=document.getElementById("childList"),t='\n              <div className="input-field col s12 m6 l6">\n                <input\n                  type="text"\n                  id="name'.concat(e.childElementCount+1,'"\n                  name="name[]"\n                  placeholder= "Child ').concat(e.childElementCount+1,' Name"\n                />\n              </div>\n            ');e.insertAdjacentHTML("beforeend",t)},children:"+"})})]}),Object(G.jsx)("div",{className:"col s12 m12 l12 input-field center",children:Object(G.jsx)("div",{className:"btn blue",onClick:Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementsByName("name[]"),""!==P||o){e.next=5;break}alert("please Select The parent"),e.next=16;break;case 5:n=0;case 6:if(!(n<t.length)){e.next=15;break}if(""===(a=t[n].value)){e.next=12;break}return e.next=11,F(K,null!==P&&void 0!==P?P:"null",a);case 11:e.sent;case 12:n++,e.next=6;break;case 15:window.location.reload();case 16:case"end":return e.stop()}}),e)}))),children:"SUBMIT"})}),Object(G.jsx)("div",{className:"row container",children:Object(G.jsx)("div",{className:"col s12 m12 l12",children:Object(G.jsx)(b.a,{children:Object(G.jsxs)(m.a,{children:[Object(G.jsx)(x.a,{children:Object(G.jsxs)(f.a,{children:[Object(G.jsx)(p.a,{children:"Sr No."}),Object(G.jsx)(p.a,{align:"right",children:"Parent"}),Object(G.jsx)(p.a,{align:"right",children:"Member Name"}),Object(G.jsx)(p.a,{align:"right",children:"Delete"})]})}),Object(G.jsx)(O.a,{children:S.map((function(e,t){var n;return Object(G.jsxs)(f.a,{children:[Object(G.jsx)(p.a,{component:"th",scope:"row",children:t+1}),Object(G.jsx)(p.a,{align:"right",children:null!==(n=e.parent)&&void 0!==n?n:"isRoot"}),Object(G.jsx)(p.a,{align:"right",children:e.name}),Object(G.jsx)(p.a,{align:"right",children:Object(G.jsx)(w.a,{onClick:function(){window.confirm("are you sure you want to DELETE ".concat(e.name,"?"))&&(c(!0),D(e.id).then((function(e){window.location.reload()})))}})})]},t)}))})]})})})})]})}var J=n(42),R=n.n(J);function V(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(j.a)(r,2),o=i[0],b=i[1],m=Object(a.useState)(!0),x=Object(j.a)(m,2),f=(x[0],x[1]),p=Object(a.useState)(""),O=Object(j.a)(p,2),v=O[0],w=O[1],N=Object(l.f)().gharanaId;return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,console.log(t),b(t.filter((function(e){return e.id===N}))[0].name),e.next=7,y(N);case 7:t=e.sent,c(t),f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(G.jsxs)("div",{className:"row center",children:[Object(G.jsxs)("div",{className:"col s12",children:[Object(G.jsx)("div",{className:"col s4 m2 l2 input-field",children:Object(G.jsx)(h.a,{className:" blue white-text",onClick:function(){window.history.back()},children:Object(G.jsx)(B.a,{})})}),Object(G.jsx)("div",{className:"col s8 m10 l10 input-field",children:Object(G.jsxs)(s.a,{variant:"h4",align:"left",children:["Gharana - ",o]})})]}),Object(G.jsx)("div",{className:"col s12 m6 l3",children:Object(G.jsxs)("div",{className:"card-panel white blue-text",style:{height:"140px"},children:[Object(G.jsx)("div",{className:" col s12 m12 l12",children:Object(G.jsx)("input",{type:"text",id:"familyName",placeholder:"Family Name",value:v,onChange:function(e){w(e.target.value)}})}),Object(G.jsx)("div",{className:"input-field col s12 m12 l12",children:Object(G.jsx)(s.a,{variant:"h4",align:"center",className:"btn-floating blue",onClick:function(){""===v?alert("please enter name"):(f(!0),I(N,v).then((function(e){window.location.reload()})).catch((function(e){alert("Family with that name already exists")})),w(""))},children:Object(G.jsx)(R.a,{})})})]})}),n.filter((function(e){return void 0!==e.name&&e.name.toLowerCase().includes(v.toLowerCase())})).map((function(e,t){return Object(G.jsx)("div",{className:"col s12 m6 l3",children:Object(G.jsxs)("div",{className:"card-panel blue white-text center",style:{height:"140px"},title:e.name,children:[Object(G.jsx)(s.a,{variant:"h4",align:"center",className:"truncate",children:e.name}),Object(G.jsx)("br",{}),Object(G.jsxs)("div",{className:"col s12 m12 l12",children:[Object(G.jsx)("div",{className:"col s6 m6 l6 center",children:Object(G.jsx)("div",{className:"btn white blue-text",onClick:function(){window.location.href+=e.id},children:"View"})}),Object(G.jsx)("div",{className:"col s6 m6 l6 center",children:Object(G.jsx)("div",{className:"btn red white-text",onClick:function(){window.confirm("This is an Irreversible Process are you sure you want to delete family ".concat(e.name,"?"))&&(f(!0),E(e.id).then((function(e){window.location.reload()})))},children:"delete"})})]})]})},t)}))]})}function A(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),l=i[0],o=i[1],u=Object(a.useState)(""),d=Object(j.a)(u,2),b=d[0],m=d[1];return Object(a.useEffect)((function(){g().then((function(e){c(e),o(!1)}))}),[]),l?Object(G.jsx)(T,{}):Object(G.jsxs)("div",{className:"row center",children:[Object(G.jsx)("div",{className:"col s12 input-field",children:Object(G.jsx)("div",{className:"col s3 ",children:Object(G.jsx)(h.a,{className:" blue white-text",onClick:function(){window.location.href="http://ponkshe.com/adminpanel/"},children:Object(G.jsx)(B.a,{})})})}),Object(G.jsx)("div",{className:"col s12 m6 l3",children:Object(G.jsxs)("div",{className:"card-panel white blue-text",style:{height:"140px"},children:[Object(G.jsx)("div",{className:" col s12 m12 l12",children:Object(G.jsx)("input",{type:"text",id:"gharanaName",placeholder:"Gharana Name",value:b,onChange:function(e){m(e.target.value)}})}),Object(G.jsx)("div",{className:"input-field col s12 m12 l12",children:Object(G.jsx)(s.a,{variant:"h4",align:"center",className:"btn-floating blue",onClick:function(){""===b?alert("please enter name"):(o(!0),C(b).then((function(e){window.location.reload()})).catch((function(e){alert("Gharana with that name already exists")})))},children:Object(G.jsx)(R.a,{})})})]})}),0===n.length?Object(G.jsx)("div",{className:"col s12",children:Object(G.jsx)(s.a,{variant:"h4",align:"center",className:"card-panel col s12 m6 l3",style:{height:"140px"},children:"No Gharanas Found"})}):n.filter((function(e){return void 0!==e.name&&e.name.toLowerCase().includes(b.toLowerCase())})).map((function(e,t){return Object(G.jsx)("div",{className:"col s12 m6 l3",children:Object(G.jsxs)("div",{className:"card-panel blue white-text center",style:{height:"140px"},title:e.name,children:[Object(G.jsx)(s.a,{variant:"h4",align:"center",className:"truncate",children:e.name}),Object(G.jsx)("br",{}),Object(G.jsxs)("div",{className:"col s12 m12 l12",children:[Object(G.jsx)("div",{className:"col s6 m6 l6 center",children:Object(G.jsx)("div",{className:"btn white blue-text",onClick:function(){window.location.href=e.id+"/"},children:"View"})}),Object(G.jsx)("div",{className:"col s6 m6 l6 center",children:Object(G.jsx)("div",{className:"btn red white-text",onClick:function(){window.confirm("This is an Irreversible Process are you sure you want to delete Gharana ".concat(e.name,"?"))&&S(e.id).then((function(e){window.location.reload()}))},children:"delete"})})]})]})},t)}))]})}var H=function(){return Object(G.jsx)(i.a,{basename:"/adminpanel/family-tree",children:Object(G.jsxs)(l.c,{children:[Object(G.jsx)(l.a,{path:"/",exact:!0,children:Object(G.jsx)(A,{})}),Object(G.jsx)(l.a,{path:"/:gharanaId",exact:!0,children:Object(G.jsx)(V,{})}),Object(G.jsx)(l.a,{path:"/:gharanaId/:familyId",exact:!0,children:Object(G.jsx)(M,{})}),Object(G.jsx)(l.a,{children:Object(G.jsx)(s.a,{variant:"h4",align:"center",children:"Error Page Not Found"})})]})})};n(103),n(105),n(60),n(59);r.a.render(Object(G.jsx)(H,{}),document.getElementById("admin"))}},[[78,1,2]]]);
//# sourceMappingURL=main.09627af6.chunk.js.map